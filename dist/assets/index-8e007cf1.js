(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();const I=""+new URL("icon-bookmark-empty-7df18d69.svg",import.meta.url).href,M=""+new URL("icon-bookmark-full-8103888e.svg",import.meta.url).href,O=e=>{document.querySelector(".active").classList.remove("active"),e.classList.add("active")},w=async e=>await(await fetch(e)).json(),t=(e,a,i)=>{const s=document.createElement(e);return s.classList.add(a),e!=="img"?s.textContent=i:s.src=i,s};let p=[];const $=()=>{const e=localStorage.getItem("favorites");e?p=JSON.parse(e):localStorage.setItem("favorites",JSON.stringify([]))},B=()=>{localStorage.setItem("favorites",JSON.stringify(p))},V=e=>{const a=e.parentElement.dataset.id;p.includes(a)?(p=p.filter(i=>i!==a),e.firstElementChild.src=I):(p.push(a),e.firstElementChild.src=M),B()},q=document.getElementById("root-app"),R=async(e,a)=>{const i=await w(e),s=document.createDocumentFragment(),o=t("section","section"),r=t("h2","heading--l",a),l=t("div","slider");i.results.forEach(n=>{const f=n.media_type==="movie",c=t("article","card");c.dataset.id=n.id;const h=t("img","backdrop");h.src=`https://image.tmdb.org/t/p/w500${n.backdrop_path}`;const k=t("div","bookmark__container"),u=t("img","bookmark__icon");p.includes(String(n.id))?u.src=M:u.src=I;const v=t("div","card__info"),y=f?n.release_date.substring(0,4):n.first_air_date.substring(0,4),T=f?t("span","card__info--movie","Movie"):t("span","card__info--tv","TV"),b=t("p","body--m",`${y}`),E=f?t("h3","heading--s",n.title):t("h3","heading--s",n.name);b.append(T),v.prepend(E),v.prepend(b),k.prepend(u),c.prepend(v),c.prepend(k),c.prepend(h),l.append(c)}),o.append(r),o.append(l),s.append(o),q.prepend(s)},A=document.getElementById("root-app"),g=async(e,a)=>{const i=await w(e),s=document.createDocumentFragment(),o=t("section","section"),r=t("h2","heading--l",a),l=t("div","grid");i.results.forEach(n=>{const f=!!n.title,c=t("article","card");c.dataset.id=n.id;const h=t("img","backdrop");n.backdrop_path?h.src=`https://image.tmdb.org/t/p/w300${n.backdrop_path}`:h.src="assets/images/no-poster.png";const k=t("div","bookmark__container"),u=t("img","bookmark__icon");p.includes(String(n.id))?u.src=M:u.src=I;const v=t("div","card__info"),y=f?n.release_date.substring(0,4):n.first_air_date.substring(0,4),T=f?t("span","card__info--movie","Movie"):t("span","card__info--tv","TV"),b=t("p","body--s",`${y}`),E=f?t("h3","heading--xs",n.title):t("h3","heading--xs",n.name);b.append(T),v.prepend(E),v.prepend(b),k.prepend(u),c.prepend(v),c.prepend(k),c.prepend(h),l.append(c)}),o.append(r),o.append(l),s.append(o),A.append(s)},C=document.getElementById("nav__list"),F=document.getElementById("form"),D=document.getElementById("search-input"),_=document.getElementById("root-app"),m="https://api.themoviedb.org/3/",N="trending/all/day",L="movie/top_rated",S="tv/top_rated",H="search/multi",d="?api_key=8c249596e745671ad9c2727c7f926d41";C.addEventListener("click",e=>{e.target.classList.contains("active")||(O(e.target),e.target.dataset.icon==="home"?(_.innerHTML="",R(m+N+d,"Trending"),g(m+L+d,"Top Rated Movies"),g(m+S+d,"Top Rated TV Series")):e.target.dataset.icon==="movies"?(_.innerHTML="",g(m+L+d,"Top Rated Movies")):e.target.dataset.icon==="series"?(_.innerHTML="",g(m+S+d,"Top Rated TV Series")):e.target.dataset.icon==="bookmark"&&(_.innerHTML="",console.log(p),p.forEach(a=>{g("http://api.themoviedb.org/3/movie/"+Number(a)+d)})))});F.addEventListener("submit",e=>{e.preventDefault(),_.innerHTML="",g(m+H+d+"&query="+D.value,`${D.value} results`)});document.addEventListener("click",e=>{e.target.matches(".bookmark__container")&&V(e.target)});$();R(m+N+d,"Trending");g(m+L+d,"Top Rated");g(m+S+d,"Top Rated TV Series");
